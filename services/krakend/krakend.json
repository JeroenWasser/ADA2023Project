{
    "$schema": "https://www.krakend.io/schema/v3.json",
    "version": 3,
    "name": "Voting API Gateway",
    "timeout": "3000ms",
    "cache_ttl": "300s",
    "port": "8090",
    "output_encoding": "json",
    "endpoints": [{
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "GET",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/sessions",
                "encoding": "json",
                "sd": "static",
                "method": "GET",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "GET",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/sessions/{vs_id}",
                "encoding": "json",
                "sd": "static",
                "method": "GET",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "POST",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/sessions/create",
                "encoding": "json",
                "sd": "static",
                "method": "POST",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "PUT",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/sessions/{vs_id}",
                "encoding": "json",
                "sd": "static",
                "method": "PUT",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "DELETE",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/sessions/{vs_id}",
                "encoding": "json",
                "sd": "static",
                "method": "DELETE",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "POST",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/parties/placeholder",
                "encoding": "json",
                "sd": "static",
                "method": "POST",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "POST",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/parties/{p_id}/admin",
                "encoding": "json",
                "sd": "static",
                "method": "POST",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "PUT",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/parties/{p_id}",
                "encoding": "json",
                "sd": "static",
                "method": "PUT",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "DELETE",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/parties/{p_id}",
                "encoding": "json",
                "sd": "static",
                "method": "DELETE",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/sessions",
            "input_headers": [
                "User-Agent",
                "Accept",
                "token"
              ],
            "method": "PUT",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/user/{uuid}/status",
                "encoding": "json",
                "sd": "static",
                "method": "PUT",
                "host": [
                    "https://administration-serv-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        },
        {
            "endpoint": "/v1/party-managment",
            "method": "GET",
            "output_encoding": "json",
            "backend": [{
                "url_pattern": "/parties",
                "encoding": "json",
                "is_collection": true,
                "mapping": {
                    "collection": "parties"
                },
                "sd": "static",
                "method": "GET",
                "host": [
                    "https://party-admin-service-lf6x6a722q-uc.a.run.app"
                ],
                "disable_host_sanitize": false
            }]
        }
    ]
}